---
title: "Louis_D Intro to low level R"
author: "Louis DROGO"
format: html
editor: visual
---

```{r}
#| message: false
library(here)
library(ggplot2)
library(dplyr)
library(tidyr)

here::i_am("intro-low-level-R.Rproj")
```


## Types and classes

### Types

```{r}
typeof(1.5) # double
typeof("test") # character
typeof(TRUE) # logical
typeof(1L) # integer
typeof(1) # double
typeof(typeof) # closure : it's a function essentially
typeof(list()) # list
```

Every numbers are considered as double unless you specify it's an integer.


### Classes

```{r}
data(iris)
typeof(iris) # list
class(iris) # data frame

class(1) # numeric
class(1L) # integer
```
## Vector

### Introduction
Many things in R are vectors (and most of the other things are lists).
A vector is a collection of values of the same type (possibly a single value).

```{r}
w <- 15.25
length(w)  # all vectors have a length
w[1]
```

The c-function can be seen as a creation function or, more accurately, as a vector concatenation function.
```{r}
y <- c(1,-2,45,1.5,-1e-10)
y
typeof(y)
y[2]
length(y)
```
### Character vectors

This is not R strength...

```{r}
z <- "alice"
length(z)  # 1
```
Salvation comes from 'stringr' package.

```{r}
library(stringr)
```

```{r}
str_length(z)  # 5
```
```{r}
char <- "ðŸ˜‚ðŸ˜‚ðŸ˜‡"
str_length(char)
```
```{r}
some_values <- c("ðŸ˜‚ðŸ˜‚ðŸ˜‡", "test")
some_values
length(some_values) # length of the vector
str_length(some_values) # length of each element in the vector
```
## Indexing

```{r}
x <- c(6,5,1,2,3,4)
x[3]
```

```{r}
x[4] <- 15
x
```
Assignement can be understood as a value semantic assignement: 'x' and 'y' are different vectors with the same initial content.

```{r}
y <- x
y
```

Therefore, modifying 'x' has no effect on 'y'
```{r}
x[1] <- 18
x
y
```

```{r}
x
x[c(2,2,1,4,3)]
```
```{r}
x[0]
x[7]
x[10]
```
## List 

Vectors must be type uniform, xhich will triger a conversion to character in many cases.
```{r}
broken <- c(1L,1.5,"toto",FALSE)
broken
typeof(broken)
```

Lists do not have this limitation.

### Creating a list

```{r}
bis <- list(1L,1.5,"toto",FALSE)
bis
typeof(bis)
```

```{r}
foo <- list(c(1,2,3),TRUE, length)
foo
typeof(foo)
```
### Indexing

```{r}
foo
cat("###\n")
foo[1]
cat("###\n")
foo[-2]
cat("###\n")
foo[c(3,2,2,1)]
```

```{r}
foo[0]
foo[4]
```


### Side step: weird values

```{r}
NA # missing value
NULL # missing object
NaN # Not a Number
```
```{r}
0/0
1/0
-1/0
1/0-1/0
1/0+1
1/0-10^100
1/Inf
```
```{r}
NA_real_+1
1/NA_real_
```

```{r}
NULL +1
1/NULL
```


### Back to indexing lists

```{r}
x <- list(c(1,2,3),c(TRUE,FALSE),LETTERS[10:15])
x
```


```{r}
x[3] <- list(c(-2,1))
x
```

```{r}
y <- c(1,2,3)
y
y[4] <- "toto"
y
```


